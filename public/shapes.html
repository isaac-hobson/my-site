<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IMPULSIVE.CC/SIMULATOR</title>
    <link
      href="https://fonts.googleapis.com/css2?family=VT323&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="shapes.css" />
  </head>
  <body>
    <canvas id="matrix-canvas"></canvas>
    <div class="scanlines"></div>

    <div class="toolbar" id="toolbar">
      <a href="index.html" class="toolbar-btn">&lt;&lt; HOME</a>
      <span class="toolbar-divider">|</span>
      <span class="sim-name" id="current-sim-name">Evolving Star Fractal</span>
      <span class="toolbar-divider">|</span>
      <button class="toolbar-btn" id="export-btn" title="Export Image (E)">
        [ EXPORT ]
      </button>
      <button class="toolbar-btn" id="save-btn" title="Save Preset (S)">
        [ SAVE ]
      </button>
      <button class="toolbar-btn" id="fav-btn" title="Add to Favorites">
        [ FAV ]
      </button>
      <button class="toolbar-btn" id="fullscreen-btn" title="Fullscreen (F)">
        [ FULLSCREEN ]
      </button>
      <span class="toolbar-divider">|</span>
      <span class="fps-counter" id="fps-counter">60 FPS</span>
    </div>

    <div class="shapes-container">
      <main class="simulator-main">
        <canvas id="sim-canvas"></canvas>

        <button class="control-toggle" id="control-toggle">MODIFY &gt;</button>

        <div class="control-panel" id="control-panel">
          <div class="panel-header">
            <span>> CONTROL PANEL</span>
            <button class="close-panel" id="close-panel">X</button>
          </div>

          <div class="panel-section">
            <div class="section-header" data-section="sim-select">
              > SIMULATION SELECT
            </div>
            <div class="section-content" id="sim-select">
              <button class="sim-btn active" data-sim="0">
                >> Evolving Star Fractal
              </button>
              <button class="sim-btn" data-sim="1">>> Hyperspace Web</button>
              <button class="sim-btn" data-sim="2">>> Lissajous Cascade</button>
              <button class="sim-btn" data-sim="3">
                >> Magnetic Field Tracer
              </button>
              <button class="sim-btn" data-sim="4">
                >> Asymmetric Orbitals
              </button>
              <button class="sim-btn" data-sim="5">
                >> Reaction-Diffusion Ring
              </button>
              <button class="sim-btn" data-sim="6">>> Neural Network</button>
              <button class="sim-btn" data-sim="7">>> Flocking Swarm</button>
              <button class="sim-btn" data-sim="8">>> Fractal Tree</button>
              <button class="sim-btn" data-sim="9">>> Galaxy Spiral</button>
              <button class="sim-btn" data-sim="10">>> Quantum Wave</button>
              <button class="sim-btn" data-sim="11">
                >> Strange Attractor
              </button>
              <button class="sim-btn" data-sim="12">>> Sacred Geometry</button>
              <button class="sim-btn" data-sim="13">>> Electric Plasma</button>
              <button class="sim-btn" data-sim="14">>> Infinite Zoom</button>
              <button class="sim-btn" data-sim="15">>> Bioluminescence</button>
              <button class="sim-btn" data-sim="16">>> DNA Helix</button>
            </div>
          </div>

          <div class="panel-section">
            <button class="section-header" id="visual-config-btn" type="button">
              > VISUAL CONFIG
            </button>
            <div class="section-content" id="visual-config">
              <div class="control-group">
                <label>COLOR HUE</label>
                <input type="range" id="hue" min="0" max="360" value="120" />
                <span class="value" id="hue-val">120</span>
              </div>
              <div class="control-group">
                <label>TRAIL DECAY</label>
                <input type="range" id="decay" min="1" max="50" value="5" />
                <span class="value" id="decay-val">5</span>
              </div>
            </div>
          </div>

          <div class="panel-section">
            <button class="section-header" id="physical-mods-btn" type="button">
              > PHYSICAL MODIFIERS
            </button>
            <div class="section-content" id="physical-mods">
              <div class="control-group">
                <label>GLOBAL SPEED</label>
                <input type="range" id="speed" min="1" max="100" value="50" />
                <span class="value" id="speed-val">50</span>
              </div>
              <div class="control-group">
                <label>ZOOM MAGNITUDE</label>
                <input type="range" id="zoom" min="10" max="200" value="100" />
                <span class="value" id="zoom-val">100</span>
              </div>
              <div class="control-group">
                <label>N-SPOKES (A)</label>
                <input type="range" id="spokes" min="2" max="20" value="6" />
                <span class="value" id="spokes-val">6</span>
              </div>
              <div class="control-group">
                <label>WINDING (B)</label>
                <input type="range" id="winding" min="1" max="20" value="5" />
                <span class="value" id="winding-val">5</span>
              </div>
            </div>
          </div>

          <div class="panel-section" id="presets-section">
            <button class="section-header" id="presets-btn" type="button">
              > SAVED PRESETS
            </button>
            <div class="section-content" id="presets">
              <div class="presets-list" id="presets-list">
                <p class="no-presets">No saved presets yet</p>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <div class="modal-overlay hidden" id="export-modal">
      <div class="modal-content export-modal-content">
        <button class="modal-close" id="export-modal-close">X</button>
        <h2 class="modal-title">> EXPORT IMAGE</h2>
        <div class="export-preview" id="export-preview"></div>
        <div class="export-options">
          <div class="form-group">
            <label>RESOLUTION</label>
            <select id="export-resolution">
              <option value="1">Current Size</option>
              <option value="2">2x (HD)</option>
              <option value="4">4x (4K)</option>
            </select>
          </div>
          <div class="form-group">
            <label>FORMAT</label>
            <select id="export-format">
              <option value="png">PNG (Lossless)</option>
              <option value="jpeg">JPEG (Smaller)</option>
              <option value="webp">WebP (Modern)</option>
            </select>
          </div>
          <div class="form-group">
            <label>FILENAME</label>
            <input type="text" id="export-filename" placeholder="simulation" />
          </div>
        </div>
        <button class="submit-btn" id="export-download">[ DOWNLOAD ]</button>
      </div>
    </div>

    <div class="modal-overlay hidden" id="save-modal">
      <div class="modal-content">
        <button class="modal-close" id="save-modal-close">X</button>
        <h2 class="modal-title">> SAVE PRESET</h2>
        <form id="save-form">
          <div class="form-group">
            <label>PRESET NAME</label>
            <input
              type="text"
              id="preset-name"
              placeholder="> Enter preset name"
              required
            />
          </div>
          <div class="form-group">
            <label>DESCRIPTION (Optional)</label>
            <input
              type="text"
              id="preset-description"
              placeholder="> Describe this configuration"
            />
          </div>
          <div class="form-group checkbox-group">
            <label>
              <input type="checkbox" id="preset-public" /> Make Public
            </label>
          </div>
          <div class="form-error hidden" id="save-error"></div>
          <button type="submit" class="submit-btn">[ SAVE PRESET ]</button>
        </form>
        <p class="login-prompt hidden" id="login-prompt">
          <a href="index.html">Login</a> to save presets to your account
        </p>
      </div>
    </div>

    <div class="keyboard-hint" id="keyboard-hint">
      <p>
        Keyboard: [1-9] Simulations | [E] Export | [S] Save | [F] Fullscreen |
        [M] Modify Panel | [Space] Pause
      </p>
    </div>

    <script src="matrix.js"></script>
    <script src="simulations.js"></script>
    <script src="simulator-ui.js"></script>
  </body>
</html>
